(function(t){function e(e){for(var n,c,r=e[0],d=e[1],a=e[2],u=0,f=[];u<r.length;u++)c=r[u],i[c]&&f.push(i[c][0]),i[c]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,a||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var d=o[r];0!==i[d]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},i={app:0},s=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var l=d;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("64a9"),i=o.n(n);i.a},"0a5d":function(t,e,o){},"48dc":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"nav"},[o("a",{staticClass:"signout",on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Wyloguj się")])]),o("div",{staticClass:"container"},[o("edit-modal"),o("todo-list")],1)])},s=[],c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"todo-list"},[o("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.newTodoText,expression:"newTodoText"}],attrs:{type:"text",placeholder:"Co musisz dziś zrobic?"},domProps:{value:t.newTodoText},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addTodo(e):null},input:function(e){e.target.composing||(t.newTodoText=e.target.value)}}}),o("progressbar"),o("filters"),t._l(t.filteredTodos,function(e){return o("todo-item",{key:e.id,staticClass:"list-item",attrs:{text:e.text,completed:e.completed},on:{delete:function(o){t.removeTodo(e)},edit:function(o){t.openEditModal(e)},toggle:function(o){t.toggleCompleted(e)}}})})],2)])},r=[],d=o("be94"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-item"},[o("div",{staticStyle:{display:"flex"}},[o("span",[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.completed},on:{input:function(e){t.$emit("toggle")}}})]),o("div",{on:{dblclick:function(e){t.$emit("edit")}}},[t._v("\n            "+t._s(t.text)+"\n        ")])]),o("div",{staticClass:"delete",on:{click:function(e){t.$emit("delete")}}},[t._v("\n        ×\n    ")])])},l=[],u={name:"TodoItem",props:{text:String,completed:Boolean}},f=u,p=(o("5ff5"),o("2877")),m=Object(p["a"])(f,a,l,!1,null,"1857c012",null);m.options.__file="TodoItem.vue";var h=m.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"filters"},[o("a",{staticClass:"filter",class:{activeFilter:"ALL"==t.todosFilter},on:{click:function(e){e.preventDefault(),t.changeFilter("ALL")}}},[t._v("Wszystkie ("+t._s(t.todosCount)+")\n    ")]),o("a",{staticClass:"filter",class:{activeFilter:"COMPLETED"==t.todosFilter},on:{click:function(e){e.preventDefault(),t.changeFilter("COMPLETED")}}},[t._v("Ukończone ("+t._s(t.completedTodosCount)+")\n        \n    ")]),o("a",{staticClass:"filter",class:{activeFilter:"NOT_COMPLETED"==t.todosFilter},on:{click:function(e){e.preventDefault(),t.changeFilter("NOT_COMPLETED")}}},[t._v("Nie ukończone ("+t._s(t.notCompletedTodosCount)+")\n    ")])])},T=[],g=o("2f62"),O={name:"Filters",methods:{changeFilter:function(t){this.$store.commit("changeFilter",t)}},computed:Object(d["a"])({},Object(g["c"])(["todosFilter"]),Object(g["b"])(["todosCount","completedTodosCount","notCompletedTodosCount"]))},b=O,_=(o("c86a"),Object(p["a"])(b,v,T,!1,null,null,null));_.options.__file="Filters.vue";var C=_.exports,E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("label",[t._v("Ukończono:")]),o("div",{staticClass:"wrapper"},[o("div",{staticClass:"progressbar-wrapper",style:{width:t.wrapperWidth+"px"}},[o("div",{staticClass:"progressbar",style:{width:t.progressbarWidth+"px"}})]),o("span",[t._v(t._s(Math.round(100*t.completedTodosPercentage))+"%")])])])},y=[],x={name:"Progressbar",data:function(){return{wrapperWidth:400}},computed:Object(d["a"])({},Object(g["b"])(["todosCount","completedTodosCount"]),{completedTodosPercentage:function(){return 0==this.todosCount?1:this.completedTodosCount/this.todosCount},progressbarWidth:function(){return this.wrapperWidth*this.completedTodosPercentage}})},w=x,M=(o("e92b"),Object(p["a"])(w,E,y,!1,null,"f91f05d6",null));M.options.__file="Progressbar.vue";var j=M.exports,k={name:"TodoList",components:{TodoItem:h,Filters:C,Progressbar:j},data:function(){return{newTodoText:""}},computed:Object(d["a"])({},Object(g["c"])(["todosFilter"]),Object(g["b"])(["todosCount","completedTodosCount","notCompletedTodosCount"]),{filteredTodos:function(){return this.$store.getters.filteredTodos}}),methods:{addTodo:function(){this.$store.dispatch("ADD_TODO",this.newTodoText),this.newTodoText="","COMPLETED"==this.todosFilter&&this.changeFilter("ALL")},openEditModal:function(t){this.$store.commit("setEditedTodo",t),this.$store.commit("openModal")},removeTodo:function(t){this.$store.dispatch("REMOVE_TODO",t)},toggleCompleted:function(t){this.$store.dispatch("TOGGLE_COMPLETED",t)},changeFilter:function(t){this.$store.commit("changeFilter",t)}},mounted:function(){this.$store.dispatch("RETRIEVE_TODOS")}},z=k,L=(o("9f64"),Object(p["a"])(z,c,r,!1,null,"cabde7f6",null));L.options.__file="TodoList.vue";var D=L.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[t.editModalOpened?o("div",{staticClass:"modal"},[o("div",{attrs:{id:"overlay"},on:{click:function(e){t.closeModal(e)}}},[o("div",{attrs:{id:"edit-box"}},[o("div",{attrs:{id:"close-btn"},on:{click:t.closeModal}},[t._v("\r\n                    ×\r\n                ")]),o("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:t.editedTodo.text},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.edit(e)}}})])])]):t._e()])},P=[],$={name:"EditModal",methods:{closeModal:function(t){"overlay"!=t.target.id&&"close-btn"!=t.target.id||this.$store.commit("closeModal")},edit:function(t){this.$store.dispatch("EDIT",t.target.value)}},computed:Object(d["a"])({},Object(g["c"])(["editModalOpened","editedTodo"]))},S=$,A=(o("7dee"),Object(p["a"])(S,F,P,!1,null,"3ec3b9df",null));A.options.__file="EditModal.vue";var I=A.exports,N={name:"app",components:{TodoList:D,EditModal:I},methods:{signOut:function(){this.$store.dispatch("LOGOUT")}}},W=N,G=(o("034f"),Object(p["a"])(W,i,s,!1,null,null,null));G.options.__file="App.vue";var R=G.exports,U=(o("7514"),o("bc3a")),V=o.n(U);n["a"].use(g["a"]);var J=new g["a"].Store({state:{todosFilter:"ALL",editModalOpened:!1,editedTodo:null,todos:[]},mutations:{addTodo:function(t,e){t.todos.push(e)},removeTodo:function(t,e){var o=t.todos.indexOf(e);t.todos.splice(o,1)},toggleCompleted:function(t,e){var o=t.todos.indexOf(e);t.todos[o].completed=!t.todos[o].completed},changeFilter:function(t,e){t.todosFilter=e},openModal:function(t){t.editModalOpened=!0},closeModal:function(t){t.editedTodo=null,t.editModalOpened=!1},setEditedTodo:function(t,e){t.editedTodo=e},edit:function(t,e){var o=t.todos.find(function(e){return e.id==t.editedTodo.id});o.text=e,t.editedTodo=null,t.editModalOpened=!1}},getters:{filteredTodos:function(t){switch(t.todosFilter){case"ALL":return t.todos;case"COMPLETED":return t.todos.filter(function(t){return 1==t.completed});case"NOT_COMPLETED":return t.todos.filter(function(t){return 0==t.completed});default:return t.todos}},todosCount:function(t){return t.todos.length},completedTodosCount:function(t){return t.todos.filter(function(t){return 1==t.completed}).length},notCompletedTodosCount:function(t){return t.todos.filter(function(t){return 0==t.completed}).length}},actions:{RETRIEVE_TODOS:function(t){V.a.get("http://localhost:64854/api/todos/get-all").then(function(e){200==e.status&&(t.state.todos=e.data)}).catch(function(t){console.log(t)})},ADD_TODO:function(t,e){e.trim().length<1||V.a.post("http://localhost:64854/api/todos/create",{text:e}).then(function(e){200==e.status?t.commit("addTodo",e.data):alert("Coś poszło nie tak przy zapisywaniu zadania. Spróbuj jeszcze raz")}).catch(function(t){console.log(t)})},REMOVE_TODO:function(t,e){V.a.delete("http://localhost:64854/api/todos/delete/".concat(e.id)).then(function(o){200==o.status?t.commit("removeTodo",e):alert("Coś poszło nie tak przy usuwaniu zadania. Spróbuj jeszcze raz")}).catch(function(t){console.log(t)})},TOGGLE_COMPLETED:function(t,e){V.a.get("http://localhost:64854/api/todos/toggle-completed/".concat(e.id)).then(function(o){200==o.status?t.commit("toggleCompleted",e):alert("Coś poszło nie tak. Spróbuj jeszcze raz")}).catch(function(t){console.log(t)})},EDIT:function(t,e){V.a.post("http://localhost:64854/api/todos/edit",{todoId:t.state.editedTodo.id,newTodoText:e}).then(function(o){200==o.status?t.commit("edit",e):alert("Coś poszło nie tak przy edytowaniu zadania. Spróbuj jeszcze raz.")}).catch(function(t){console.log(t)})},LOGOUT:function(t){V.a.get("http://localhost:64854/logout").then(function(t){location=location}).catch(function(t){console.log(t)})}}});n["a"].config.productionTip=!1,n["a"].directive("focus",{inserted:function(t){t.focus()}}),new n["a"]({store:J,render:function(t){return t(R)}}).$mount("#app")},"5fe6":function(t,e,o){},"5ff5":function(t,e,o){"use strict";var n=o("48dc"),i=o.n(n);i.a},"64a9":function(t,e,o){},"7dee":function(t,e,o){"use strict";var n=o("accd"),i=o.n(n);i.a},"9f64":function(t,e,o){"use strict";var n=o("e13b"),i=o.n(n);i.a},accd:function(t,e,o){},c86a:function(t,e,o){"use strict";var n=o("0a5d"),i=o.n(n);i.a},e13b:function(t,e,o){},e92b:function(t,e,o){"use strict";var n=o("5fe6"),i=o.n(n);i.a}});
//# sourceMappingURL=app.45974a73.js.map